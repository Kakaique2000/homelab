# Ansible inventory for Kubernetes cluster
#
# This inventory defines a single-node cluster where one machine acts as both
# master (control plane) and worker node.
#
# To add more worker nodes in the future, add them under [kube_node] section.
#
# IMPORTANT: This file is auto-generated by setup scripts using MASTER_IP environment variable
# To set it up: export MASTER_IP=<your-master-ip>

[all]
k8s-master ansible_host={{ MASTER_IP }} ansible_user=ansible-agent ansible_ssh_private_key_file=./ansible/.ssh/id_ed25519

# Master nodes (control plane)
[kube_control_plane]
k8s-master

# Worker nodes (where workloads run)
[kube_node]
k8s-master

# etcd nodes (Kubernetes database)
[etcd]
k8s-master

# Required for kubespray
[k8s_cluster:children]
kube_control_plane
kube_node

[calico_rr]

# Example: Adding more worker nodes in the future
# Uncomment and modify the lines below when you have additional machines
#
# [all]
# k8s-node1 ansible_host=192.168.1.100 ansible_user=ansible-agent ansible_ssh_private_key_file=~/.ssh/id_ed25519
# k8s-node2 ansible_host=192.168.1.101 ansible_user=ansible-agent ansible_ssh_private_key_file=~/.ssh/id_ed25519
# k8s-node3 ansible_host=192.168.1.102 ansible_user=ansible-agent ansible_ssh_private_key_file=~/.ssh/id_ed25519
#
# [kube_control_plane]
# k8s-node1
#
# [kube_node]
# k8s-node1
# k8s-node2
# k8s-node3
#
# [etcd]
# k8s-node1
